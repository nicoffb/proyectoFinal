<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="En está página podras comprar las claves de tus juegos favoritos al mejor precio">
  <meta name="author" content="Nicolás Fernández de la Fuente Bursón">
  <title>Venta de claves Treasure Games</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/album/">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


  <!-- Bootstrap core CSS -->
  <link href="../static/css/proyectofinal.css" rel="stylesheet" th:href="@{/css/proyectofinal.css}">

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>


</head>

<body>
   <header th:replace="~{fragmentos/encabezado::encabezado}"></header>


  <main>
    <section class="py-5 text-center container">
      <div class="container">
        <h2>A la última</h2>
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
          <!-- Indicators -->
          <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
          </ol>

          <!-- Wrapper for slides -->
          <div class="carousel-inner">

            <div class="item active">
              <img src="../static/imagenes/bannerlol.jpg" th:src="@{/imagenes/bannerlol.jpg}" alt="Lol" width="100%"
                height="70%">
            </div>

            <div class="item">
              <img src="../static/imagenes/bannerwow.jpg" th:src="@{/imagenes/bannerwow.jpg}" alt="Wow" width="100%"
                height="70%">
            </div>

            <div class="item">
              <img src="../static/imagenes/codbanner.jpg" th:src="@{/imagenes/codbanner.jpg}" alt="Cod">
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>

      </div>
    </section>




    <!-- !---BUSCAAAAR---->
    <div class="trend-w3layouts">
      <div class="container" style="margin-bottom: 3%;">
        <h2>Búsqueda</h2>
        <div class="principal">

          <form action="#" th:action="@{buscar}" th:object="${buscarForm}" method="POST">
            <input type="text" name="nombre" placeholder="Buscar" th:field="*{buscar}"
              style="margin-left: 5%; padding: 4px;" />
            <button class="btn- btn-danger" type="submit" style="padding: 4px;">
              <span class="glyphicon glyphicon-search"></span>
            </button>
          </form>


          <div class="album py-5 bg-light">
            <div class="container">
          
              <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">


                <!-- CARTA DE EJEMPLO ------------------------------------------------------------------------------------  -->
                <div class="col" th:each="producto : ${listaProductos}">
                  <img
                    th:src="${#strings.isEmpty(producto.imagen)} ? 'http://placehold.it/350x260' : ${producto.imagen}"
                    alt="miniatura" width="100%" height="450">
                  <div class="card shadow-sm">
                    <div class="card-body">

                      <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">

                          <a th:href="@{/detalle/{id}(id=${producto.id})}">
                            <button type="button" class="btn btn-warning btn-outline-secondary">
                              <span class="glyphicon glyphicon-eye-open"></span> Detalles
                            </button>
                          </a>


                          <a href="/productoACarrito/" th:href="@{/productoACarrito/{id}(id=${producto.id})}" sec:authorize="isAuthenticated()">
                            <button type="button" class="btn btn-primary">
                              <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>&nbsp; Comprar
                            </button>
                          </a>
                        </div>

                        <small class="text-muted" th:text="${#numbers.formatCurrency(producto.pvp)}"></small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>




  </main>

  <footer th:replace="~{fragmentos/footer::footer}"></footer>


  <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>


</body>

</html>